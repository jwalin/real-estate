<?phpclass change_password extends CI_Controller {    public function __construct() {        parent::__construct();//        $this->is_validCheck();        $this->load->model('password_models');        $this->load->library('upload');      }            public function index() {        $this->load->view('include/header.php');        $this->load->view('include/sidebar.php');        $this->load->view('password_view');        $this->load->view('include/footer.php');    }          public function update(){                 $id = $this->session->userdata('id');        $this->form_validation->set_rules('o_password', 'Old Password', 'required');        $this->form_validation->set_rules('n_password', 'New Password', 'required');        $this->form_validation->set_rules('c_password', 'Confirm password', 'required');        if ($this->form_validation->run() == FALSE) {            $this->load->view('include/header.php');        $this->load->view('include/sidebar.php');        $this->load->view('password_view');        $this->load->view('include/footer.php');        } else {            $pass = $this->input->post('o_password');            $npass = $this->input->post('n_password');            $rpass = $this->input->post('c_password');            if ($npass != $rpass) {                $this->session->set_flashdata('error', 'Confirm password not macth.');                redirect('change_password/update');            } else {                $qr = $this->db->query("select * from admin where id = " . $id)->row();                if (md5($pass) == $qr->password) {                    $data = array(                        'password' => md5($npass)                    );                    $result = $this->password_models->update($data, $id);                    if ($result) {                        $this->session->set_flashdata('success', 'Password has been successfully updated.');                        redirect('change_password/');                    } else {                        $this->session->set_flashdata('error', 'Data processing error.');                        redirect('change_password/');                    }                } else {                    $this->session->set_flashdata('error', 'Old password is wrong.');                    redirect('change_password/');                }            }        }    }      }?>